---
title: "Computational Musicology- Final Portfolio"
author: "Alihan Ince"
date: ""
output: 
  flexdashboard::flex_dashboard:
    storyboard: true
    theme: "default"

---
Comparing French and Dutch Raps 
=========================================

Column 
-------------------------------------
### Exploring the Differences and Similarities Between Two Cultural Forms 

#### Introduction: The Corpus and the Purpose of the Study
[My corpus](https://open.spotify.com/playlist/7KtmJXjsDmw8WEdtyL28L3?si=0448a854bfd84eb5) consists of 300 tracks by the following French and Dutch rap artists and singers: Alonzo, Jul, PNL, Gims (French) and Lijpe, Boef, Sevn Alias, Josylvio (Dutch). So the corpus consists of both French and Dutch hip-hop music (raps).   
I deliberately chose this corpus because I often like listening to French and Dutch rappers myself.  
In terms of style and approach, French and Dutch rap are different, but both are characterized by their ability to engage with the issues and experiences of their respective communities, and both have made significant contributions to the development of hip-hop as a global cultural form. It is therefore worth researching rap music of both languages where we will look at the differences and similarities between the two.  
  
#### Differences and similairities between French and Dutch Rap
The natural groups are French rappers (Alonzo, Jul, PNL, Gims) and Dutch rappers (Lijpe, Boef, Sevn Alias, Josylvio).   
French rap is more characterized by its strong tradition of chanson (which is a style of song that emphasizes vocal performance and poetic lyrics) and French rappers often incorporate African and Carribean music into their work, while Dutch rappers incorporate elements of gabber and house into their work.  
Both groups produce rap which means that they both use a very fast and energetic flow as well as techniques such as Onomatopoeaia (sue of words that imitate sounds, such as "boom" or "snap").   
However, I am curious to see what the analyses will show. Each rapper obviously has his own way of rapping and, of course, does not always use the same technique. It is therefore important to generalise as much as possible when comparing raps in two languages. Moreover, I tried to keep the rappers as representative as possible.   
  
#### Selection of Rappers and Genres 
The chosen rappers produce raps in French and Dutch. So to make a comparison or look at differences between Dutch and French raps, I felt it was enough to choose two Dutch and two French artists.   
The corpus consist of raps and so it belongs to "Hip hop music" or "rap music". I think the tracks will cover the genre well since they are all raps. 
The only gap maybe is that tracks by rapper Alonzo are gangsta rap in addition to hip-hop. Furthermore, Jul also makes hip-house music and tracks by Boef and Lijpe belong to nederhop and street rap. ultimately, they do fall under the umbrella genre "Hip hop".  
  
#### Sample Tracks
Some typical typical sample tracks in my corpus are Ciao La France (Alonzo), Namek (Jul) and Hoofdpijn (Lijpe)   

Column 
-------------------------------------
### The Corpus 
<!-- ```{=html} -->
<!-- <iframe src="https://open.spotify.com/embed/playlist/7KtmJXjsDmw8WEdtyL28L3?utm_source=generator&theme=0" width="100%" height="100%" frameBorder="0" allowtransparency="true" allow="encrypted-media" data-external="1"></iframe> -->
<!-- ``` -->

```{r}
library(tidyverse)
library(spotifyr)
library(flexdashboard)
library(plotly)
library(compmus)

df <- get_playlist_audio_features("", "7KtmJXjsDmw8WEdtyL28L3?si=78d85d115b1b42c9")

conditions <- c("QUARTIERS NORD", "Les dernières volontés de Mozart (Symphony)", "Cœur blanc", "Deux frères", 
                "L'EMPIRE DE MÉROÉ", "Dans la légende", "Capo Dei Capi Vol. II & III")
df$language <- ifelse(df$track.album.name %in% conditions, "French", "Dutch")

df_dutch <- df[df$language == "Dutch", ]
df_french <- df[df$language == "French", ]
 
cm23 <-
  bind_rows( 
    df_french |> mutate(category = "French"),
    df_dutch |> mutate(category = "Dutch")
  )
```

<!-- # Dutch Tracks -->
<!-- ```{r} -->
<!-- valueBox(nrow(df_dutch), icon="fa-music") -->
<!-- ``` -->

<!-- # French Tracks -->
<!-- ```{r} -->
<!-- valueBox(nrow(df_french), icon="fa-music") -->
<!-- ``` -->

Feature analysis {.storyboard} 
=========================================
### "The Energetic Beat: Exploring the Relationship between Tempo and Danceability in Hip Hop Music" 
```{r, fig.width=8, fig.height=7}
p1 <- cm23 %>%
  mutate(
    mode = ifelse(mode == 0, "Minor", "Major")
  ) %>%
  ggplot(
    aes(
      x = tempo, 
      y = danceability,
      size = energy,
      colour = mode
    )
  ) +
  geom_point() +
  geom_rug(linewidth = 0.2) +
  facet_wrap(~ category) +
  scale_x_continuous(
    limits = c(50, 200),
    breaks = c(50, 125, 200),
    minor_breaks = NULL
  ) +
  scale_y_continuous(
    limits = c(0, 1),
    breaks = c(0, 0.50, 1),
    minor_breaks = NULL
  ) +
  scale_colour_brewer(
    type = "qual",
    palette = "Dark2"
  ) +
  scale_size_continuous(
    trans = "exp",
    #guide = "none",
    range = c(0, 2)
  ) + 
  theme_bw() +
  labs(
    x = "Tempo",
    y = "Danceability",
    colour = "Mode"
  ) + ggtitle("Relationship between tempo, danceability, energy in French & Dutch Hip hop")

ggplotly(p1)
```

***

In general, hip hop music is known for having a strong beat and a high level of energy. This is reflected in the tempo and danceability of many hip hop tracks, which are often fast and rhythmically complex.   
This plot really shows this relationship. A large proportion of tracks correspond to high energy and the "danceability" is well over 0.5 on average. Furthermore, we see interesting differences such as that the average tempo of Dutch raps is lower than French raps. The tempo distribution of French raps is greater than that of Dutch raps. This may be the reason why French raps more often give me more energy than Dutch raps.  

### "Rhythmic Resonance bewteen Valence, Energy, and Loudness in French and Dutch Raps"
```{r, fig.width=8, fig.height=7}
ggplot(cm23, mapping = aes(x = valence, y = energy, size=loudness)) +
  geom_boxplot(alpha = 0.5) + 
  geom_jitter(alpha = 0.5, color = "black") + 
  facet_wrap(~ category) +
  scale_size_continuous(
    trans = "exp",
    guide = "none",
    range = c(1, 5)) +
  ggtitle("Relationship between valence, energy and loudness in French & Dutch Hip hop") +
  theme_bw() 
```

***

This plot shows the relationship between the features "valence", "energy" and "Loudness" in French and Dutch raps. In the figure, the higher the valence and tempo be, the higher the loudness of the tracks be. Furthermore, the average energy of Dutch raps is lower, but whether this is significantly lower is questionable, as a discussion point is that the corpus contains slightly less Dutch rap than French rap. Lastly, the distribution of valence is almost the same in both cases

Chromagram  
=========================================
Column 
-------------------------------------
***
In the case of French rap music in the corpus, analyzing the chromagram can provide insights into the tonal characteristics of the music and how they differ from other genres or regions. For example, it might reveal that French rappers tend to use certain chords or tonal centers more frequently than rappers from other countries, or that they use different melodic patterns or scales.

Analyzing the chromagram of a track of French rap such as this one could also be useful for identifying commonalities and differences between individual artists or sub-genres within French rap. For instance, it could reveal that one artist tends to use a particular tonal center or scale more frequently than others, or that certain sub-genres of French rap have distinct melodic or harmonic characteristics.

Comparing the chromagrams of two French tracks (outliers), "INTRO" and "MAINTENANT" from the playlist reveals significant differences in their pitch distribution. In "INTRO", over time, the focus of the pitches is on different Chords such as C, D and G, whereas in "MAINTENANT", there is a strong concentration of pitches around chord B and G. This means that "INTRO" is more complex and it has more different chord progressions. 

Column 
-------------------------------------
### "Chromagram of a recording of GIMS; INTRO." (Lowest danceability with one of the highest tempo)
```{r, fig.width=15, fig.height=7}
 wood <-
   get_tidy_audio_analysis("6H8njIysTyNsjD5CyPtqwN") |>
   select(segments) |>
   unnest(segments) |>
   select(start, duration, pitches)

 wood |>
   mutate(pitches = map(pitches, compmus_normalise, "euclidean")) |>
   compmus_gather_chroma() |> 
   ggplot(
     aes(
       x = start + duration / 2,
       width = duration,
       y = pitch_class,
       fill = value
     )
   ) +
   geom_tile() +
   labs(x = "Time (s)", y = NULL, fill = "Magnitude") +
   theme_minimal() +
   scale_fill_viridis_c()
```


-------------------------------------
### "Chromagram of a recording of GIMS; MAINTENANT" (Highest energy with averaged valence)
```{r, fig.width=15, fig.height=7}
 wood <-
   get_tidy_audio_analysis("5y2WMZ9UAYsA7qxRENID6l") |>
   select(segments) |>
   unnest(segments) |>
   select(start, duration, pitches)

 wood |>
   mutate(pitches = map(pitches, compmus_normalise, "euclidean")) |>
   compmus_gather_chroma() |> 
   ggplot(
     aes(
       x = start + duration / 2,
       width = duration,
       y = pitch_class,
       fill = value
     )
   ) +
   geom_tile() +
   labs(x = "Time (s)", y = NULL, fill = "Magnitude") +
   theme_minimal() +
   scale_fill_viridis_c()
```


Ceptrogram {.storyboard} 
=========================================

Self-similarity Matrices {.storyboard} 
=========================================

Conclusion {.storyboard} 
=========================================

